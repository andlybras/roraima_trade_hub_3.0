{% extends 'base.html' %}
{% load static %}
{% block titulo %}{{ titulo_pagina }} | Destino Roraima{% endblock %}
{% block css_pagina %}
<link rel="stylesheet" href="{% static 'gerenciamento_destino/css/destino_shared.css' %}">
<link rel="stylesheet" href="{% static 'gerenciamento_destino/css/mapa_interativo.css' %}">
{% if tem_pontos %}
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
{% endif %}
{% endblock %}
{% block conteudo %}
<div class="container-conteudo">
    {% include 'gerenciamento_destino/html/partials/breadcrumb.html' %}
    <div class="mapa-container">
        <div class="mapa-cabecalho">
            <h1>{{ titulo_pagina }}</h1>
        </div>
        {% if tem_pontos %}
            {% if categorias_filtros %}
                <div class="filtros-mapa-container">
                    <button class="filtro-mapa-btn active" data-categoria-slug="todos">Mostrar Todos</button>
                    {% for categoria in categorias_filtros %}
                        <button class="filtro-mapa-btn" data-categoria-slug="{{ categoria.slug }}">{{ categoria.nome }}</button>
                    {% endfor %}
                </div>
            {% endif %}
            <div id="mapa"></div>
            {{ pontos_geojson|json_script:"pontos-data" }}
        {% else %}
            <div class="sem-pontos-container">
                <h2>Em Breve</h2>
                <p>Ainda não há locais cadastrados para "{{ titulo_pagina }}".</p>
                <a href="{% url 'destino:pagina_inicial' %}">Voltar para Destino Roraima</a>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
{% block parceiros %}{% endblock parceiros %}
{% block js_pagina %}
{% if tem_pontos %}
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{% static 'gerenciamento_destino/js/mapa_interativo.js' %}"></script>
{% endif %}
{% endblock %}