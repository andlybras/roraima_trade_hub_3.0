{% extends 'base.html' %}
{% load static %}

{% block titulo %}Glossário de Termos | Inteligência de Mercado{% endblock %}

{% block css_pagina %}
    <link rel="stylesheet" href="{% static 'gerenciamento_inteligencia_mercado/css/layout_inteligencia.css' %}">
{% endblock %}

{% block conteudo %}
<div class="container-conteudo">
    <div class="painel-listagem-cards">
        
        <div class="painel-cabecalho">
            <a href="{% url 'inteligencia:pagina_inicial' %}" class="botao-voltar-branco">
                <img src="{% static 'gerenciamento_inteligencia_mercado/icons/icone-voltar.svg' %}" alt="Ícone de seta">
                <span>Voltar</span>
            </a>
            <h1 class="titulo-pagina">{{ titulo_pagina }}</h1>
        </div>

        <hr class="separador-titulo">

        <div class="conteudo-glossario">
            {# CORREÇÃO: Adicionado um bloco {% for ... empty ... endfor %} #}
            {% for letra, lista_termos in termos_agrupados.items %}
            <section class="secao-letra">
                <h2 class="letra-indice">{{ letra }}</h2>
                <dl class="lista-termos">
                    {% for item in lista_termos %}
                    <div class="termo-item">
                        <dt class="termo-titulo">{{ item.termo }}</dt>
                        <dd class="termo-explicacao">{{ item.explicacao|safe }}</dd>
                    </div>
                    {% endfor %}
                </dl>
            </section>
            {% empty %}
                <p class="sem-conteudo">Ainda não há termos cadastrados no glossário.</p>
            {% endfor %}
        </div>

    </div>
</div>
{% endblock %}